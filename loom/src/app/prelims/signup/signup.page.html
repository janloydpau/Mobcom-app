<div class="header">
  <img src="assets/turtle.png" alt="turtle">
  <h1>Sign up now and join us!</h1>
  <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
</div>

<form (ngSubmit)="onSubmit()" [formGroup]="signupForm">
  <div class="card">

    <!-- Email Input with Floating Label and validation -->
    <ion-item class="label" [class.invalid]="emailField?.invalid && emailField?.touched">
      <ion-input 
        formControlName="email" 
        label="Email" 
        label-placement="floating" 
        placeholder="juandelacruz@gmail.com">
      </ion-input>
    </ion-item>
    <div *ngIf="emailField?.invalid && emailField?.touched" class="error-message">
      <small *ngIf="emailField?.errors?.['required']">Email is required</small>
      <small *ngIf="emailField?.errors?.['email']">Please enter a valid email</small>
    </div>

    <!-- Password Input with Floating Label and validation -->
    <ion-item class="label" [class.invalid]="passwordField?.invalid && passwordField?.touched">
      <ion-input 
        formControlName="password" 
        label="Password" 
        label-placement="floating" 
        placeholder="Password" 
        [type]="showPassword ? 'text' : 'password'">
      </ion-input>

      <ion-icon 
        *ngIf="passwordField?.value" 
        [name]="showPassword ? 'eye-off' : 'eye'" 
        slot="end" 
        (click)="togglePasswordVisibility()">
      </ion-icon>
    </ion-item>

    <div *ngIf="passwordField?.invalid && passwordField?.touched" class="error-message">
      <small *ngIf="passwordField?.errors?.['required']">Password is required</small>
      <small *ngIf="passwordField?.errors?.['minlength']">Password must be at least 8 characters long</small>
    </div>

    <!-- Confirm Password Input -->
    <ion-item class="label" [class.invalid]="confirmPasswordField?.invalid && confirmPasswordField?.touched">
      <ion-input 
        formControlName="confirmPassword" 
        label="Confirm Password" 
        label-placement="floating" 
        placeholder="Confirm Password" 
        [type]="showPassword ? 'text' : 'password'">
      </ion-input>
    </ion-item>

    <div *ngIf="confirmPasswordField?.invalid && confirmPasswordField?.touched" class="error-message">
      <small *ngIf="confirmPasswordField?.errors?.['required']">Please confirm your password</small>
      <small *ngIf="confirmPasswordField?.errors?.['passwordsDoNotMatch']">Passwords do not match</small>
    </div>

    <br>

    <!-- Sign up button -->
    <ion-item lines="none">
      <button type="submit" class="full-button" [disabled]="!signupForm.valid || passwordsDoNotMatch">Sign up</button>
    </ion-item>

    <!-- Google Sign Up button -->
    <ion-item lines="none">
      <button class="hollow-button">
        <ion-icon class="google" name="logo-google" slot="start"></ion-icon>
        Sign up with Google
      </button>
    </ion-item>

    <!-- Already have an account link -->
    <ion-item style="margin-top: -10px;" lines="none">
      <ion-text class="reg">
        <p>Already have an account? <button type="button" class="register-button" (click)="navigateToLogin()">Log in</button></p>
      </ion-text>
    </ion-item>

  </div>
</form>
